I" X<p>ржЖржЬржХрзЗ ржЖржорж░рж╛ ржЕржирзЗржХржЧрзБрж▓рзЛ ржХрж╛рж░рзНрждрзЗрж╕рж┐рзЯ рж╕рзНржерж╛ржирж╛ржЩрзНржХ ржжрзЗржУрзЯрж╛ ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛рж░ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ ржмрзЗрж░ ржХрж░рж╛ рж╢рж┐ржЦржмрзЛред</p>

<font color="#02b300"> ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓:</font>
<p>ржзрж░рж┐ ржЖржорж╛ржжрзЗрж░ ржХрж╛ржЫрзЗ <script type="math/tex">N</script> ржЯрж╛ ржкрзЯрзЗржирзНржЯ ржжрзЗржУрзЯрж╛ ржЖржЫрзЗред ржЖржорж╛ржжрзЗрж░ ржЙржжрзНржжрзЗрж╢рзНржп рж╣ржЪрзНржЫрзЗ ржПржоржи ржХрзНрж╖рзБржжрзНрж░рждржо <a href="https://en.wikipedia.org/wiki/Convex_polygon">ржЙрждрзНрждрж▓ ржмрж╣рзБржнрзБржЬ</a> рждрзИрж░рж┐ ржХрж░рж╛ ржпрзЗржЯрж╛рж░ ржоржзрзНржпрзЗ рж╕ржмржЧрзБрж▓рзЛ ржкрзЯрзЗржирзНржЯ ржЖржЫрзЗред ржПржЯрж╛ржХрзЗржЗ ржУржЗ ржкрзЯрзЗржирзНржЯржЧрзБрж▓рзЛрж░ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ ржмрж▓рж╛ рж╣рзЯред</p>

<font color="#02b300"> ржЕрзНржпрж╛рж▓ржЧрзЛрж░рж┐ржжржо:┬а</font>
<p>ржПржЦрж╛ржирзЗ ржЖржорж┐ ржЧрзНрж░рж╛рж╣рж╛ржо рж╕рзНржХрзНржпрж╛ржи ржЕрзНржпрж╛рж▓ржЧрзЛрж░рж┐ржжржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ ржХрж┐ржнрж╛ржмрзЗ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣рзЯ рж╕рзЗржЯрж╛ ржжрзЗржЦрж╛ржмрзЛред ржЧрзНрж░рж╛рж╣рж╛ржо рж╕рзНржХрзНржпрж╛ржи ржП рж╢рзБржзрзБ ржХржорзНржкрзЗрж░рж┐ржЬржи, ржпрзЛржЧ ржЖрж░ ржЧрзБржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЗ <script type="math/tex">O(N logN)</script> ржП ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ ржмрзЗрж░ ржХрж░рж╛ ржпрж╛рзЯред ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ ржмрзЗрж░ ржХрж░рж╛рж░ ржЬржирзНржп ржПржЯрж┐ржЗ рж╕ржмржЪрзЗрзЯрзЗ ржнрж╛рж▓рзЛ ржХржорзНржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐ред ржПржЯрж╛ ржкрзНрж░ржорж╛ржг ржХрж░рж╛ ржпрж╛рзЯ ржпрзЗ ржПржЯрж╛рж░ ржЪрзЗрзЯрзЗ ржнрж╛рж▓рзЛ ржХржорзНржкрзНрж▓рзЗржХрзНрж╕рж┐ржЯрж┐рждрзЗ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ ржмрзЗрж░ ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред</p>

<h3> <font color="#4459c9"> Description </font> </h3>
<p>ржПржЗ ржЕрзНржпрж╛рж▓ржЧрзЛрж░рж┐ржжржоржЯрж┐ ржкрзНрж░ржержорзЗржЗ тАЬрж╕ржмржЪрзЗрзЯрзЗ ржирж┐ржЪрзЗ ржУ рж╕ржмржЪрзЗрзЯрзЗ ржмрж╛ржорзЗтАЭ ржПрж░ ржкрзЯрзЗржирзНржЯ <script type="math/tex">A</script> ржПржмржВ тАЬрж╕ржмржЪрзЗрзЯрзЗ ржЙржкрж░рзЗ ржУ рж╕ржмржЪрзЗрзЯрзЗ ржбрж╛ржирзЗтАЭ ржПрж░ ржкрзЯрзЗржирзНржЯ <script type="math/tex">B</script> ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗред ржПржЯрж╛ рж╕рзНржкрж╖рзНржЯ ржпрзЗ <script type="math/tex">A</script> ржЖрж░ <script type="math/tex">B</script> ржжрзБржЯрзЛржЗ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓рзЗ ржЕржирзНрждрж░рзНржнрзБржХрзНржд рж╣ржмрзЗред ржХрж╛рж░ржг ржпрзЗрж╣рзЗрждрзБ ржПржЗ ржжрзБржЗржЯрж┐ ржкрзЯрзЗржирзНржЯ рж╕ржмржЪрзЗрзЯрзЗ ржжрзВрж░рзЗ ржЕржмрж╕рзНржерж┐ржд, ржмрж╛ржХрж┐ рж╕ржмржЧрзБрж▓рзЛ ржкрзЯрзЗржирзНржЯ ржерзЗржХрзЗ ржПржоржи ржнрж╛ржмрзЗ ржжрзБржЯрж┐ ржкрзЯрзЗржирзНржЯ ржирзЗрзЯрж╛ рж╕ржорзНржнржм рж╣ржмрзЗ ржирж╛ ржпрзЗ ржкрзЯрзЗржирзНржЯржжрзБржЯрзЛрж░ рж╕ржВржпрзЛржЧрж░рзЗржЦрж╛ <script type="math/tex">A</script> ржЕржержмрж╛ <script type="math/tex">B</script> ржХрзЗ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓рзЗрж░ ржнрж┐рждрж░рзЗрж░ ржжрж┐ржХрзЗ ржлрзЗрж▓рзЗред</p>

<p>ржПржЦржи ржЖржорж░рж╛ <script type="math/tex">A</script> ржУ <script type="math/tex">B</script> ржПрж░ рж╕ржВржпрзЛржЬржХ ржПржХржЯрж╛ рж░рзЗржЦрж╛ ржХрж▓рзНржкржирж╛ ржХрж░рж┐ред ржПржЗ рж░рзЗржЦрж╛ржЯрж┐ рж╕ржмржЧрзБрж▓рзЛ ржкрзЯрзЗржирзНржЯржХрзЗ ржжрзБтАЩржЯрж┐ рж╕рзЗржЯрзЗ ржнрж╛ржЧ ржХрж░рзЗред ржзрж░рж┐, рж╕рзЗржЯ ржжрзБржЯрж┐ <script type="math/tex">S_1</script>ржУ <script type="math/tex">S_2</script> ред <script type="math/tex">S_1</script> рж╣ржЪрзНржЫрзЗ рж╕рзЗрж╕ржм ржкрзЯрзЗржирзНржЯржЧрзБрж▓рзЛ ржпрзЗржЧрзБрж▓рж╛ <script type="math/tex">AB</script> рж▓рж╛ржЗржирзЗрж░ ржЙржкрж░рзЗ ржЖржЫрзЗ ржЖрж░ <script type="math/tex">S_2</script> рж╣ржЪрзНржЫрзЗ рж╕рзЗржЗ ржкрзЯрзЗржирзНржЯржЧрзБрж▓рж╛ ржпрзЗржЧрзБрж▓рж╛ <script type="math/tex">AB</script> рж▓рж╛ржЗржирзЗрж░ ржирж┐ржЪрзЗ ржЖржЫрзЗред ржпрзЗржЗ ржкрзЯрзЗржирзНржЯржЧрзБрж▓рж╛ <script type="math/tex">AB</script> рж▓рж╛ржЗржирзЗрж░ ржоржзрзНржпрзЗ ржкрж░рзЗржЫрзЗ ржпрзЗржЧрзБрж▓рж╛ржХрзЗ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж╛рждрзЗ рж░рж╛ржЦрж▓рзЗржЗ рж╣ржмрзЗред <script type="math/tex">A</script> ржЖрж░ <script type="math/tex">B</script> ржкрзЯрзЗржирзНржЯ ржжрзБржЯрж┐ ржЙржнрзЯ рж╕рзЗржЯрзЗржЗ ржерж╛ржХржмрзЗред ржЕрзНржпрж╛рж▓ржЧрзЛрж░рж┐ржжржоржЯрж┐ ржкрзНрж░ржержорзЗ <script type="math/tex">S_1</script> рж╕рзЗржЯрзЗрж░ ржкрзЯрзЗржирзНржЯржЧрзБрж▓рж╛ ржерзЗржХрзЗ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓рзЗрж░ ржЙржкрж░рзЗрж░ ржкрж╛рж░рзНржЯ ржЯрж╛ рждрзИрж░рж┐ ржХрж░рзЗ ржЖрж░ <script type="math/tex">S_2</script> ржкрзЯрзЗржирзНржЯржЧрзБрж▓рж╛ ржерзЗржХрзЗ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓рзЗрж░ ржирж┐ржЪрзЗрж░ ржкрж╛рж░рзНржЯржЯрж╛ рждрзИрж░рж┐ ржХрж░рзЗред рждрж╛рж░ржкрж░ ржжрзБржЗржЯрж╛ ржкрж╛рж░рзНржЯржХрзЗ ржПржХрж╕рж╛ржерзЗ ржЬрзБрзЬрзЗ ржжрж┐рж▓рзЗржЗ рждрзИрж░рж┐ рж╣рзЯрзЗ ржЧрзЗрж▓рзЛ ржЖржорж╛ржжрзЗрж░ рж╕рзБржирзНржжрж░ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ред ЁЯШН</p>

<p>ржХрж┐ржирзНрждрзБ ржУрзЯрзЗржЯ, ржПрждрзЛ рж╕рзЛржЬрж╛ ржирж╛ржХрж┐? ржХрзЛржерж╛рзЯ ржпрзЗржирзЛ ржПржХржЯрж╛ ржЧрж╛ржлрж▓рж╛ ржоржирзЗ рж╣ржЪрзНржЫрзЗред рж╣рзНржпрж╛ржБред ржПржЦржи ржЙржкрж░рзЗрж░ ржкрж╛рж░рзНржЯрзЗрж░ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ржЯрж╛ржЗ ржмрж╛ ржХрж┐ржнрж╛ржмрзЗ рж╣ржмрзЗ ЁЯШиред</p>

<p>ржЙржкрж╛рзЯ ржХрж┐ржирзНрждрзБ ржЖржЫрзЗ ред ЁЯША ржЙржкрж░рзЗрж░ рж╕рзЗржЯржЯрж╛ ржкрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп ржЖржорж░рж╛ ржкрзНрж░ржержорзЗ <script type="math/tex">x</script> ржХрзЛ-ржЕрж░рзНржбрж┐ржирзЗржЯ ржжрж┐рзЯрзЗ рж╕ржмржЧрзБрж▓рзЛ ржкржпрж╝рзЗржирзНржЯ ржХрзЗ рж╕рж░рзНржЯ ржХрж░ржмред ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓рзЗрж░ ржЙржкрж░рзЗрж░ ржкрж╛рж░рзНржЯрзЗрж░ ржкрзНрж░ржержо ржкржпрж╝рзЗржирзНржЯ ржЯрж╛ рж╣ржмрзЗ <script type="math/tex">A</script> ржУ рж╢рзЗрж╖ ржкржпрж╝рзЗржирзНржЯ ржЯрж╛ рж╣ржмрзЗ <script type="math/tex">B</script>ред ржЖржорж░рж╛ ржжрзЗржЦржм ржпрзЗ ржмрж░рзНрждржорж╛ржирзЗ ржЖржорж░рж╛ ржпрзЗ ржкржпрж╝рзЗржирзНржЯрзЗ ржЖржЫрж┐ рж╕рзЗржЯрж╛ <script type="math/tex">B</script> ржХрж┐ ржирж╛ред ржпржжрж┐ <script type="math/tex">B</script> рж╣ржпрж╝ рждрж╛рж░ ржорж╛ржирзЗ ржЖржорж╛ржжрзЗрж░ ржХрж╛ржЬ рж╢рзЗрж╖ред ржПржЦржи ржЖржорж╛ржжрзЗрж░ ржорж╛ржерж╛ржпрж╝ ржПржЗ ржЪрж┐ржирзНрждрж╛ ржЯрж╛ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ ржпрзЗ, ржЖржорж░рж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ ржЙржкрж░рзЗрж░ рж╣рж╛рж▓ ржЯрж╛ ржмрж╛ржирж╛ржирзЛрж░ ржЬржирзНржп рж╕ржм ржЧрзБрж▓рзЛ ржкржпрж╝рзЗржирзНржЯ ржирж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░ржЫрж┐ред рждрж╛рж╣рж▓рзЗ рждрзЛ ржПржоржи ржкржпрж╝рзЗржирзНржЯржЧрзБрж▓рзЛ ржЪрж▓рзЗ ржЖрж╕ржмрзЗ ржпрзЗржЧрзБрж▓рзЛ <script type="math/tex">AB</script> рж▓рж╛ржЗржирзЗрж░ ржирж┐ржЪрзЗред рждрж╛рж╣рж▓рзЗ рждрзЛ ржЭрж╛ржорзЗрж▓рж╛ <script type="math/tex">!</script> ржЭрж╛ржорзЗрж▓рж╛ ржжрзВрж░ ржХрж░рж╛рж░ ржЬржирзНржп ржЖржорж░рж╛ <script type="math/tex">A</script>, <script type="math/tex">P_{current}</script> ржПржмржВ <script type="math/tex">B</script> ржПрж░ ржоржзрзНржпрзЗ ржЕрж░рж┐ржпрж╝рзЗржирзНржЯрзЗрж╢ржи ржЪрзЗржХ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржорж╛ржирзЗ ржпржжрж┐ <script type="math/tex">A</script>    -&gt;  <script type="math/tex">P_{current}</script>   -&gt;  <script type="math/tex">B</script> ржкржержЯрж┐ ржХрзНрж▓ржХ ржУржпрж╝рж╛ржЗржЬ рж╣ржпрж╝ рждрж╛рж░ ржорж╛ржирзЗ <script type="math/tex">P_{current}</script> ржкржпрж╝рзЗржирзНржЯржЯрж┐ <script type="math/tex">AB</script> рж▓рж╛ржЗржирзЗрж░ ржЙржкрж░рзЗ ржЖржЫрзЗред рждрж╛рж╣рж▓рзЗ ржкржпрж╝рзЗржирзНржЯржЯрж┐ <script type="math/tex">S_1</script> рж╕рзЗржЯрзЗржЗ ржкрзЬржмрзЗред</p>

<p>ржпржжрж┐ <script type="math/tex">P_{current}</script> ржкржпрж╝рзЗржирзНржЯржЯрж┐ <script type="math/tex">S_1</script> рж╕рзЗржЯрзЗржЗ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржЖржорж░рж╛ ржкржпрж╝рзЗржирзНржЯ <script type="math/tex">P_{current}</script> ржПржмржВ ржПржЗ ржкрж░рзНржпржирзНржд ржмрж╛ржирж╛ржирзЛ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓рзЗрж░ рж╢рзЗрж╖ ржкржпрж╝рзЗржирзНржЯ <script type="math/tex">hull_{last}</script> ржПржмржВ рждрж╛рж░ ржЖржЧрзЗрж░ ржкржпрж╝рзЗржирзНржЯ <script type="math/tex">hull_{last-1}</script> ржЧрзБрж▓рзЛ ржирж┐ржмрзЛред ржПржмрж╛рж░ <script type="math/tex">hull_{last-1}</script> -&gt; <script type="math/tex">hull_{last}</script> ржУ <script type="math/tex">hull_{last}</script> -&gt; <script type="math/tex">P_{current}</script> ржПржЗ ржжрзБржЯрж┐ рж░рзЗржЦрж╛ ржЖржБржХржмрзЛред ржПржЗ рж░рзЗржЦрж╛ ржжрзБржЯрж┐ <script type="math/tex">hull_{last}</script> ржмрж┐ржирзНржжрзБрждрзЗ ржЫрзЗржж ржХрж░рзЗред ржПржЦржи ржЖржорж░рж╛ рж░рзЗржЦрж╛ржжрзНржмрзЯ ржжрзНржмрж╛рж░рж╛ ржЙрзОржкржирзНржи ржХрзЛржгржЯрж┐ ржЪрзЗржХ ржХрж░ржмрзЛред ржпржжрж┐ ржПржЗ ржХрзЛржгржЯрж┐ ржХрзНрж▓ржХржУржпрж╝рж╛ржЗржЬ рж╣ржпрж╝, ржЖржорж░рж╛ ржмрж░рзНрждржорж╛ржи ржкржпрж╝рзЗржирзНржЯ ржЯрж┐ржХрзЗ рж╣рж╛рж▓рзЗ ржпрзБржХрзНржд ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ред ржЖрж░ ржПржирзНржЯрж┐-ржХрзНрж▓ржХржУрзЯрж╛ржЗржЬ рж╣рж▓рзЗ ржЖржорж░рж╛ рж╣рж╛рж▓рзЗрж░ рж▓рж╛рж╕рзНржЯ ржкржпрж╝рзЗржирзНржЯржЯрж┐ржХрзЗ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗ ржжрж┐ржмред ржПржмржВ <script type="math/tex">P_{current}</script> ржкрзЯрзЗржирзНржЯржЯрж┐ржХрзЗ рж╣рж╛рж▓рзЗ ржпрзБржХрзНржд ржХрж░ржмрзЛред ржХрж╛рж░ржг, <script type="math/tex">hull_{last-1}</script> ржПржмржВ <script type="math/tex">P_{current}</script> рж░рзЗржЦрж╛ржЯрж┐ рж╕рзЗржХрзНрж╖рзЗрждрзНрж░рзЗ <script type="math/tex">hull_{last}</script> ржкрзЯрзЗржирзНржЯржЯрж┐ржХрзЗ ржХрж╛ржнрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред</p>

<p>ржПржХржЗ рж▓ржЬрж┐ржХрзЗ ржЖржорж░рж╛ рж╣рж╛рж▓рзЗрж░ ржирж┐ржЪрзЗрж░  ржЕржВрж╢ржЯрзБржХрзБржУ рждрзИрж░рж┐ ржХрж░рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рж┐ред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ рж╢рзБржзрзБ ржХрзНрж▓ржХржУржпрж╝рж╛ржЗржЬ ржЖрж░ ржПржирзНржЯрж┐-ржХрзНрж▓ржХржУржпрж╝рж╛ржЗржЬ ржПрж░ ржмрзНржпржмрж╣рж╛рж░ржЯрж╛ ржЙрж▓рзНржЯрзЗ ржпрж╛ржмрзЗред ржЖржЧрзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ  ржХрзНрж▓ржХ ржУржпрж╝рж╛ржЗржЬ рж╣рж▓рзЗ ржпрзБржХрзНржд ржХрж░рзЗ ржжрж┐рждрж╛ржо ржПржмржВ ржПржирзНржЯрж┐ ржХрзНрж▓ржХржУржпрж╝рж╛ржЗржЬ рж╣рж▓рзЗ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗ ржжрж┐рждрж╛ржоред  ржирж┐ржЪрзЗрж░ рж╣рж╛рж▓ ржмрж╛ржирж╛ржирзЛрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржирзНржЯрж┐ ржХрзНрж▓ржХржУржпрж╝рж╛ржЗржЬ рж╣рж▓рзЗ ржпрзБржХрзНржд ржХрж░рзЗ ржжрж┐рждрзЗ рж╣ржмрзЗ ржПржмржВ ржХрзНрж▓ржХржУржпрж╝рж╛ржЗржЬ рж╣рж▓рзЗ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗ ржжрж┐рждрзЗ рж╣ржмрзЗред
ржПржмрж╛рж░, ржЙржкрж░рзЗрж░ ржЖрж░ ржирж┐ржЪрзЗрж░ рж╣рж╛рж▓ржЯрж╛ ржпрзБржХрзНржд ржХрж░рзЗ ржжрж┐рж▓рзЗржЗ рждрзИрж░рж┐ рж╣ржпрж╝рзЗ ржЧрзЗрж▓ ржЖржорж╛ржжрзЗрж░ рж╕рзБржирзНржжрж░ ржХржиржнрзЗржХрзНрж╕ рж╣рж╛рж▓ред ржПржЯрж╛рж░ <script type="math/tex">C</script>++ ржЗржорзНржкрзНрж▓рзЗржорзЗржирзНржЯрзЗрж╢ржи ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржПржнрж╛ржмрзЗ ред</p>

<h3> <font color="#4459c9">Implementation</font> </h3>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">pt</span> <span class="p">{</span>
    <span class="kt">double</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">bool</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">pt</span> <span class="n">a</span><span class="p">,</span> <span class="n">pt</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">x</span> <span class="o">||</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">cw</span><span class="p">(</span><span class="n">pt</span> <span class="n">a</span><span class="p">,</span> <span class="n">pt</span> <span class="n">b</span><span class="p">,</span> <span class="n">pt</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">c</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">b</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">c</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">ccw</span><span class="p">(</span><span class="n">pt</span> <span class="n">a</span><span class="p">,</span> <span class="n">pt</span> <span class="n">b</span><span class="p">,</span> <span class="n">pt</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">c</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">b</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">c</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">convex_hull</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">pt</span><span class="o">&gt;&amp;</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">a</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">cmp</span><span class="p">);</span>
    <span class="n">pt</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pt</span><span class="o">&gt;</span> <span class="n">up</span><span class="p">,</span> <span class="n">down</span><span class="p">;</span>
    <span class="n">up</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
    <span class="n">down</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">cw</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">p2</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">up</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">cw</span><span class="p">(</span><span class="n">up</span><span class="p">[</span><span class="n">up</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">up</span><span class="p">[</span><span class="n">up</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">up</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
            <span class="n">up</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">ccw</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">p2</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">while</span><span class="p">(</span><span class="n">down</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">ccw</span><span class="p">(</span><span class="n">down</span><span class="p">[</span><span class="n">down</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">down</span><span class="p">[</span><span class="n">down</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">down</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
            <span class="n">down</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">a</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">up</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">a</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">down</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
        <span class="n">a</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">down</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3> <font color="100680">Practice Problems</font></h3>
<ul>
  <li><a href="https://open.kattis.com/problems/convexhull">Kattis - Convex Hull</a></li>
  <li><a href="https://open.kattis.com/problems/parade">Kattis - Keep the Parade Safe</a></li>
  <li><a href="http://acm.timus.ru/problem.aspx?space=1&amp;num=1185">Timus 1185: Wall</a></li>
  <li><a href="http://usaco.org/index.php?page=viewproblem2&amp;cpid=382">Usaco 2014 January Contest, Gold - Cow Curling</a></li>
</ul>

:ET